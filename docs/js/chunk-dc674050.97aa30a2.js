(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dc674050"],{"0b42":function(e,t,a){var n=a("da84"),r=a("e8b5"),o=a("68ee"),c=a("861d"),l=a("b622"),i=l("species"),d=n.Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,o(t)&&(t===d||r(t.prototype))?t=void 0:c(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?d:t}},"0ec6":function(e,t,a){},"1dde":function(e,t,a){var n=a("d039"),r=a("b622"),o=a("2d00"),c=r("species");e.exports=function(e){return o>=51||!n((function(){var t=[],a=t.constructor={};return a[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2292:function(e,t,a){"use strict";a.r(t);var n=a("f2bf"),r={style:{"font-size":"20px"}},o={class:"grid-content banner"},c={class:"ban-title"},l=Object(n["createElementVNode"])("h1",null,"Layer Analysis",-1),i=Object(n["createElementVNode"])("span",{style:{"font-weight":"bolder"},class:"sub-title"}," 以某肇事因素為條件，透過層級呈現出與該肇事因素直接和間接的關係節點和關係權重。 ",-1),d={class:"select-group"},s={class:"block"},u=Object(n["createElementVNode"])("h1",null,"Layer Analysis",-1),p=Object(n["createElementVNode"])("hr",null,null,-1),f=Object(n["createElementVNode"])("p",null,[Object(n["createTextVNode"])(" 系統將針對所選的肇事因素作為起始點，找出與此因素相關聯的肇事因素節點作為第一層節點，進一步再以第一層節點找出下一層的肇事因素節點作為第二層節點，網路圖呈現出肇事因素間的直接和間接關係之分布情形。"),Object(n["createElementVNode"])("br"),Object(n["createElementVNode"])("br"),Object(n["createTextVNode"])(" 以起始點和第一層節點的關聯組合加上第一層節點和第二層節點的關聯組合為總權重，而總權重越高的關聯組合，代表該肇事因素組合關聯是經常出現的，且通常也是最為核心關鍵的肇事因素組合。因此可推斷哪些因素節點與該節點發生的關聯機率越高，也就是較常與該肇事因素一起發生的兩層關聯組合。"),Object(n["createElementVNode"])("br"),Object(n["createTextVNode"])(" 使用者選擇一個肇事因素做為中心起始節點，從起始節點發散並展開來檢視第一層、第二層的關聯節點分析，並呈現以該起始節點為中心所分析的第一層網路圖，再進一步以第一層的節點作為起始點，各自發散出第二層的網路圖 ")],-1),b={class:"grid-content bg-purple main_sec"},h={class:"grid-content bg-purple-light iframe_main_sec"},m=["src"];function v(e,t,a,v,O,j){var g=Object(n["resolveComponent"])("Navbar"),N=Object(n["resolveComponent"])("el-cascader"),V=Object(n["resolveComponent"])("el-col"),y=Object(n["resolveComponent"])("el-row"),w=Object(n["resolveComponent"])("el-table-column"),C=Object(n["resolveComponent"])("el-table"),x=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",r,[Object(n["createVNode"])(y,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(V,{span:24},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",o,[Object(n["createVNode"])(g),Object(n["createElementVNode"])("div",c,[l,i,Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",s,[Object(n["createVNode"])(N,{modelValue:O.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return O.value=e}),options:O.attributes,props:O.props,onChange:j.handleChange,placeholder:"請選擇起始節點"},null,8,["modelValue","options","props","onChange"])])])])])]})),_:1})]})),_:1}),Object(n["createVNode"])(y,{class:"con_flex"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(V,{span:23,class:"analysis-table content"},{default:Object(n["withCtx"])((function(){return[u,p,f]})),_:1}),Object(n["createVNode"])(V,{span:11,class:"analysis-table snatable"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",b,[Object(n["createVNode"])(C,{data:O.layerData,stripe:"",style:{width:"100%"},class:"basictable",height:"860"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(w,{prop:"first_node_name",label:"起始節點"}),Object(n["createVNode"])(w,{prop:"second_node_name",label:"第一層節點"}),Object(n["createVNode"])(w,{prop:"weight1",label:"第一層權重"}),Object(n["createVNode"])(w,{prop:"third_node_name",label:"第二層節點"}),Object(n["createVNode"])(w,{prop:"weight2",label:"第二層權重"}),Object(n["createVNode"])(w,{prop:"sum_weight",label:"總權重"})]})),_:1},8,["data"])],512),[[x,O.loading]])]})),_:1}),Object(n["createVNode"])(V,{span:12,class:"snapic"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createElementVNode"])("div",h,[Object(n["createElementVNode"])("iframe",{ref:"Iframe",src:O.src,frameborder:"0",width:"100%",height:"100%"},"\n          ",8,m)],512),[[x,O.loading]])]})),_:1})]})),_:1})])}a("4de4"),a("d3b7"),a("d81d");var O=a("d178"),j={name:"LayerAnalysis",components:{Navbar:O["a"]},data:function(){return{value:"",attributes:[],layerData:[],layerValue:"",props:{expandTrigger:"hover"},loading:!1,src:""}},methods:{iframeLoad:function(){var e=this;this.loading=!0;var t=this.$refs.Iframe;t.attachEvent?t.attachEvent("onload",(function(){e.loading=!1})):t.onload=function(){e.loading=!1}},handleChange:function(){var e=this;this.loading=!0;var t="http://140.136.155.121:50000",a=new FormData;a.append("token",localStorage.getItem("owner")),a.append("dataset",localStorage.getItem("dataset")),a.append("node",this.value[1]),this.$http.post(t+"/layerReceive",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){var n=e.$refs.Iframe;n.src="",n.src="http://140.136.155.121:50000/sna_graph/layer.html",e.iframeLoad(),e.$http.post(t+"/layercsv",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.loading=!1,console.log(t.data),e.layerData=t.data}))}))},layerChange:function(){var e=this;this.loading=!0;var t="http://140.136.155.121:50000",a=new FormData;a.append("token",localStorage.getItem("owner")),a.append("dataset",localStorage.getItem("dataset")),this.$http.post(t+"/layerReceive?node="+this.value[1],a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){var n=e.$refs.Iframe,r=n.src;n.src=r,e.iframeLoad(),e.$http.post(t+"/layercsv",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.loading=!1,console.log(t.data),e.layerData=t.data.map((function(t){if(t.group===e.layerValue)return t})).filter((function(e){return e}))}))}))}},mounted:function(){this.iframeLoad()},created:function(){var e=this;console.log("created");var t="http://140.136.155.121:50000",a=new FormData;a.append("token",localStorage.getItem("owner")),a.append("dataset",localStorage.getItem("dataset")),this.$http.post(t+"/attributes",a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),e.attributes=t.data}))}},g=(a("a006"),a("d959")),N=a.n(g);const V=N()(j,[["render",v]]);t["default"]=V},"4de4":function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").filter,o=a("1dde"),c=o("filter");n({target:"Array",proto:!0,forced:!c},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(e,t,a){var n=a("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},9914:function(e,t,a){},a006:function(e,t,a){"use strict";a("0ec6")},b727:function(e,t,a){var n=a("0366"),r=a("e330"),o=a("44ad"),c=a("7b0b"),l=a("07fa"),i=a("65f0"),d=r([].push),s=function(e){var t=1==e,a=2==e,r=3==e,s=4==e,u=6==e,p=7==e,f=5==e||u;return function(b,h,m,v){for(var O,j,g=c(b),N=o(g),V=n(h,m),y=l(N),w=0,C=v||i,x=t?C(b,y):a||p?C(b,0):void 0;y>w;w++)if((f||w in N)&&(O=N[w],j=V(O,w,g),e))if(t)x[w]=j;else if(j)switch(e){case 3:return!0;case 5:return O;case 6:return w;case 2:d(x,O)}else switch(e){case 4:return!1;case 7:d(x,O)}return u?-1:r||s?s:x}};e.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)}},d178:function(e,t,a){"use strict";var n=a("f2bf"),r=function(e){return Object(n["pushScopeId"])("data-v-3a7d0d22"),e=e(),Object(n["popScopeId"])(),e},o={class:"grid-content nav"},c=r((function(){return Object(n["createElementVNode"])("p",{id:"logo"},"TRANS",-1)})),l={class:"menu"},i=r((function(){return Object(n["createElementVNode"])("i",{class:"el-icon-s-home"},null,-1)})),d=Object(n["createTextVNode"])("首頁"),s=r((function(){return Object(n["createElementVNode"])("i",{class:"el-icon-user"},null,-1)})),u=Object(n["createTextVNode"])("登入授權碼");function p(e,t,a,r,p,f){var b=Object(n["resolveComponent"])("router-link"),h=Object(n["resolveComponent"])("el-button"),m=Object(n["resolveComponent"])("el-popover"),v=Object(n["resolveComponent"])("el-avatar"),O=Object(n["resolveComponent"])("el-col"),j=Object(n["resolveComponent"])("el-row"),g=Object(n["resolveDirective"])("popover");return Object(n["openBlock"])(),Object(n["createBlock"])(j,{class:"close sticky-top"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,{span:24},{default:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("div",o,[Object(n["createVNode"])(b,{to:"/dataset",class:"link"},{default:Object(n["withCtx"])((function(){return[c]})),_:1}),Object(n["createElementVNode"])("div",l,[Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(b,{to:{name:"Index"},class:"link"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(h,{round:"",type:"danger",class:"fz-20 homebtn"},{default:Object(n["withCtx"])((function(){return[i,d]})),_:1})]})),_:1}),Object(n["createVNode"])(b,{to:{name:"Login"},class:"link"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(h,{round:"",type:"danger",class:"fz-20"},{default:Object(n["withCtx"])((function(){return[s,u]})),_:1})]})),_:1}),Object(n["createVNode"])(m,{style:{"font-size":"20px"},ref:"popover",placement:"bottom",title:"您的授權碼到期日為▼ ",width:"200",trigger:"hover",content:p.expireDate},null,8,["content"]),Object(n["withDirectives"])(Object(n["createVNode"])(h,{class:"afterlogin"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(v,{size:30,class:"avatarsize",src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(p.isAuth),1)]})),_:1},512),[[g,void 0,"popover"]])])])]})),_:1})]})),_:1})}a("e9c4");var f={name:"Navbar",data:function(){return{isAuth:"載入中",expireDate:null}},mounted:function(){var e=this;if(localStorage.getItem("token")){var t=new FormData;t.append("token",localStorage.getItem("token"));var a="http://140.136.155.121:50000";setTimeout((function(){e.$http.post(a+"/user",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(JSON.stringify(t.data)),e.isAuth=t.data[2]+"，您好！",e.expireDate=new Date(Date.parse(t.data[5]))}))}),1e3)}else this.isAuth="目前未登入"}},b=(a("efba"),a("d959")),h=a.n(b);const m=h()(f,[["render",p],["__scopeId","data-v-3a7d0d22"]]);t["a"]=m},d81d:function(e,t,a){"use strict";var n=a("23e7"),r=a("b727").map,o=a("1dde"),c=o("map");n({target:"Array",proto:!0,forced:!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e8b5:function(e,t,a){var n=a("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}},e9c4:function(e,t,a){var n=a("23e7"),r=a("da84"),o=a("d066"),c=a("2ba4"),l=a("e330"),i=a("d039"),d=r.Array,s=o("JSON","stringify"),u=l(/./.exec),p=l("".charAt),f=l("".charCodeAt),b=l("".replace),h=l(1..toString),m=/[\uD800-\uDFFF]/g,v=/^[\uD800-\uDBFF]$/,O=/^[\uDC00-\uDFFF]$/,j=function(e,t,a){var n=p(a,t-1),r=p(a,t+1);return u(v,e)&&!u(O,r)||u(O,e)&&!u(v,n)?"\\u"+h(f(e,0),16):e},g=i((function(){return'"\\udf06\\ud834"'!==s("\udf06\ud834")||'"\\udead"'!==s("\udead")}));s&&n({target:"JSON",stat:!0,forced:g},{stringify:function(e,t,a){for(var n=0,r=arguments.length,o=d(r);n<r;n++)o[n]=arguments[n];var l=c(s,null,o);return"string"==typeof l?b(l,m,j):l}})},efba:function(e,t,a){"use strict";a("9914")}}]);
//# sourceMappingURL=chunk-dc674050.97aa30a2.js.map